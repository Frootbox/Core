{% set v = view.getViewHelper('\\Frootbox\\Admin\\Viewhelper\\GeneralPurpose') %}

{{ view.set({
    'title' : 'Sitemap',
}) }}

{{ front.addTab('Navigationen', front.getUri('NavigationBars')) }}
{{ front.addTab(navigation.getTitle(), front.getUri('NavigationBars', 'details', { navigationId: navigation.getId() })) }}

<h2>
    Navigation „{{ navigation.getTitle() }}“
    <span class="headoptions">

        <span class="dropdown">
			<i class="far fa-bars dropdown-toggle" data-toggle="dropdown"></i>

			<div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
    			<a class="dropdown-item" href="{{ v.getUri('NavigationBars', 'ajaxModalEdit', { navigationId: navigation.getId(), language: get.get('language') }) }}" data-modal data-title="Navigation bearbeiten"><i class="far fa-fw fa-pencil icon"></i>Navigation bearbeiten</a>
                <a class="dropdown-item" href="{{ v.getUri('NavigationBars', 'sort', { navigationId: navigation.getId(), language: get.get('language') } ) }}"><i class="far fa-fw fa-sort-alt icon"></i>Navigation sortieren</a>
                <a class="dropdown-item" href="{{ v.getUri('NavigationBars', 'ajaxModalClone', { navigationId: navigation.getId(), language: get.get('language') } ) }}" data-modal data-title="Navigation klonen"><i class="far fa-fw fa-copy icon"></i>Navigation klonen</a>
			</div>
		</span>

        <a data-toggle="tooltip" title="Neuen Hauptnavigationspunkt hinzufügen" data-modal href="{{ v.getUri('NavigationBars', 'ajaxModalComposeItem', { navigationId: navigation.getId(), language: get.get('language') }) }}" data-title="Navigations-Punkt erstellen"><i class="fa fa-plus-circle"></i></a>
    </span>
</h2>

<div class="row">
    <div class="col-12">

        <div id="navItemsReceiver">
            {{ v.injectPartial('\\Frootbox\\Admin\\Controller\\NavigationBars\\Partials\\ListNavigationItems\\Partial', {
                language: get.get('language'),
                navigation: navigation
            }) | raw }}
        </div>

    </div>
</div>
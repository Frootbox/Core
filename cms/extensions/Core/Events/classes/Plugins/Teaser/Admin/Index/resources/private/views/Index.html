{% set v = view.getViewHelper('\\Frootbox\\Admin\\Viewhelper\\GeneralPurpose') %}

<h2>
    Veranstaltungs-Teaser
</h2>

<p><a class="ajax" href="{{ v.getUri('Page', 'ajaxPanelContent', { 'pageId' : plugin.getPageId() }) }}"><i class="fa fa-chevron-circle-left"></i> zurück</a></p>

<div class="row">
    <div class="col">

        <div class="card">
            <div class="card-body">

                <h3>Konfiguration</h3>

                <form method="post" action="{{ plugin.getAdminUri('Index', 'ajaxUpdate') }}" class="ajax">

                    <div class="form-group">
                        <label for="source">Quelle wählen</label>
                        <select class="form-control" multiple id="source" name="source[]" size="{{ plugins | length }}">

                            {% for plg in plugins %}
                                <option {% if plg.getId in plugin.getConfig('source') %}selected{% endif %} value="{{ plg.getId() }}">{{ plg.getTitle | default(plg.getClassName) }}</option>
                            {% endfor %}

                        </select>
                    </div>
                    <div class="form-group">
                        <label for="limit">Anzahl</label>
                        <input type="number" class="form-control" id="limit" name="limit" placeholder="Anzahl" value="{{ plugin.getLimit() }}">
                    </div>
                    <div class="form-group">
                        <label for="tags">Tags</label>
                        <input data-role="tagsinput" type="text" class="form-control" id="tags" name="tags" placeholder="Tags" value="{{ plugin.getConfig('tags') | join(',') }}">
                    </div>



                    <button type="submit" class="btn btn-primary">Speichern</button>

                </form>

            </div>
        </div>

    </div>
</div>
